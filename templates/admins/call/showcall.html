{% extends "index.html" %}
{% block content %}
{% load static %}

<div class="table-responsive">
    <button class="toggle btn btn-primary" style="margin-bottom: 20px;"><i class="fas fa-fw fa fa-sliders" style="font-size:20px"></i>Filter</button>
        <form id="target" method="get">
          
          <div  class="well" style="padding: 10px; border:1px solid #e3e6f0 ;color: #858796;">
            <h4 style="margin-top: 0">Issue</h4>
              <div class="row">

                <div class="form-group col-sm-4 col-md-4">
                  Department  <br>{{ myFilter.form.Department }}{{ myFilter.form.Department.errors }}
                </div>

                <div class="form-group col-sm-4 col-md-4">
                  Serial No  <br>{{ myFilter.form.serial_no }}{{ myFilter.form.serial_no.errors }}
                </div>

                <div class="form-group col-sm-4 col-md-4">
                  Issue  <br>{{ myFilter.form.issue}}{{ myFilter.form.issue.errors}}
                </div>
               
                <div class="form-group col-sm-4 col-md-4">
                  Attended By  <br>{{ myFilter.form.attended_by}}{{ myFilter.form.attended_by.errors }}
                </div>

                <div class="form-group col-sm-4 col-md-4">
                  Date  <br>{{ myFilter.form.Date }}{{ myFilter.form.Date.errors }}
                </div>
            </div>

            <button type="submit" class="btn btn-primary">
              <span class="glyphicon glyphicon-search"></span> Search
            </button>
        </div>        
      </form>

      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>Department</th>
            <th>Serial No</th>
            <th>PC Name</th>
            <th>Issue</th>
            <th>Attended By</th>
            <th>Issue Date</th>
            <th>Solve Date</th>
          </tr>
        </thead>
        <tbody>
        {% for key in instance %}
          <tr>
            <td>{{ key.Department }}</td>
            <td>{{ key.serial_no.serial_no }}</td>
            <td>{{ key.serial_no.product_name }}</td>
            <td>{{ key.issue }}</td>
            <td>{{ key.attended_by }}</td>
            <td>{{ key.issuedate }}</td>
            <td>{{ key.solvedate }}</td>
          </tr>
        {% empty %}
          <p style="color: red">No history for this item has been logged yet.</p>
        {% endfor %}
        </tbody>
      </table>
{% include 'pagination.html' %}
</div>


<script>
  document.getElementById("id_attended_by").classList.add('form-control');
  document.getElementById("id_issue").classList.add('form-control');
  document.getElementById("id_serial_no").classList.add('form-control');
  document.getElementById("id_Department").classList.add('form-control');
</script>

{% include 'toggle.html' %}

{%endblock content%}